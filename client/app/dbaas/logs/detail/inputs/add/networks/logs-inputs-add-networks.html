

<section class="cui-page__content inputs-logs-add-network pt-0">
    <p data-translate="inputs_logs_networks_description"></p>

    <h6 class="oui-header_6 mb-3">
        {{::'inputs_logs_networks_add_remove_network_title' | translate}}
    </h6> 
    <oui-spinner data-ng-if="ctrl.input.loading"></oui-spinner>
    <form novalidate name="ctrl.form" style="max-width: 52rem;">
        <cui-inline-adder unique-property="allowedNetworkId"
            on-add="ctrl.addNetwork(item)"
            on-remove="ctrl.removeNetwork(item)">
            <cui-inline-adder-item  data-ng-repeat="item in ctrl.input.data.allowedNetworks"
                item="item"
                is-new-item="!item.allowedNetworkId">
                    <div class="oui-field" data-ng-class="{'oui-field_error': ctrl.form.$submitted && ctrl.form['inputIpAddress' + $index].$invalid}">
                        <label for="inputIpAddress{{$index}}" class="oui-label" data-translate="inputs_logs_networks_ip_address"></label>
                        <div class="oui-field-content">
                            <div class="oui-field-control oui-field-control_4">
                                <input type="text" 
                                        id="inputIpAddress{{$index}}" 
                                        name="inputIpAddress{{$index}}"
                                        class="oui-input" data-ng-model="item.network"
                                        data-ng-disabled="item.allowedNetworkId"
                                        data-ng-class="{'oui-input_error': ctrl.form.$submitted && ctrl.form['inputIpAddress' + $index].$invalid}"
                                        required />
                                <p data-ng-if="!item.allowedNetworkId">{{::'inputs_logs_networks_ip_address_example' | translate}}</p>
                            </div>
                        </div>
                    </div>
            </cui-inline-adder-item>
        </cui-inline-adder>
    </form>
    <div class="cui-form-actions">
        <div data-ng-if="!ctrl.saving.loading">
            <a class="oui-button oui-button_secondary"
                data-translate="logs_previous"
                data-ui-sref="dbaas.logs.detail.inputs.editwizard.configure"></a>
            <oui-button
                data-ng-if="!ctrl.input.loading"
                text="{{::'logs_finish' | translate}}"
                variant="primary"
                type="submit"
                data-ui-sref="dbaas.logs.detail.inputs">
            </oui-button>
        </div>
    </div>
</section>
