

<section class="cui-page__content inputs-logs-add-network">
    <cui-page-content-title text="::'inputs_logs_networks_title' | translate"></cui-page-content-title>
    <p data-translate="inputs_logs_networks_description"></p>


    <oui-spinner data-ng-if="ctrl.input.loading || ctrl.addNetwork.loading || ctrl.removeNetwork.loading"></oui-spinner>

    <form novalidate name="ctrl.form" data-ng-hide="ctrl.input.loading">
        <div class="oui-field" data-ng-class="{'oui-field_error': ctrl.form.$submitted && ctrl.form.input_ip_address.$invalid}">
            <div class="oui-field__content">
                <div class="oui-field-control oui-field-control_4 pr-2">
                    <input type="text" 
                        id="input_ip_address"
                        name="input_ip_address"
                        class="oui-input mb-4"
                        data-ng-model="ctrl.ipAddress"
                        data-ng-disabled="ctrl.addNetwork.loading"
                        autofocus
                        required />
                </div>
                <button type="submit" class="oui-button oui-button_secondary"
                    data-ng-click="ctrl.addNetwork()">
                        <i class="oui-icon oui-icon-add pr-1" aria-hidden="true"></i> Add Network
                </button>
            </div>
        </div>
    </form>

    <oui-datagrid rows="ctrl.input.data.allowedNetworks">
        <oui-column title="'IP Address' " property="network" sortable="asc">
            <span>{{$row.network}}</span>
            <span data-ng-click="ctrl.removeNetwork($row)"><i class="oui-icon oui-icon-trash_line" aria-hidden="true"></i></span>
        </oui-column>
    </oui-datagrid>  


</section>
