<form novalidate name="ctrl.form" class="logs-change-password">
    <div class="oui-modal oui-modal_shadow">
        <div class="oui-modal__header">
            <button
                class="oui-icon oui-icon-close_thin oui-modal__close-button"
                type="button"
                aria-label="Exit"
                ng-click="ctrl.cancel()"></button>
        </div>
        <div class="oui-modal__body oui-modal__body_no-icon">
            <div>
                <div class="oui-modal__body-text">
                    <h2 class="oui-modal__title" data-translate="logs_password_change_title"></h2>
                </div>

                <div class="oui-field" data-ng-class="{'oui-field_error': ctrl.form.$submitted && ctrl.form.new_password.$invalid}">
                    <label for="new_password" class="oui-label" data-translate="logs_password_new_label"></label>
                    <div class="oui-field__content">
                        <div class="oui-field-control oui-field-control_5">
                            <input type="text" id="new_password"
                                name="new_password"
                                class="oui-input mb-0"
                                data-ng-model="ctrl.newPassword"
                                data-ng-class="{'oui-input_error': ctrl.form.$submitted && ctrl.form.new_password.$invalid}"
                                cui-password
                                data-ng-keyup="ctrl.validatePassword()"
                                autofocus
                                required />
                        </div>
                    </div>
                    <div class="oui-field__content mb-4">
                        <div class="oui-field-control oui-field-control_5">
                            <ul data-ng-if="!ctrl.passwordValid" class="logs-change-password__rules" data-ng-repeat="rule in ctrl.passwordRules">
                                <li class="logs-change-password__rule" data-ng-class="{'logs-change-password__rule_invalid': rule.isValidated && !rule.isValid}"> 
                                    <i data-ng-if="!rule.isValidated || rule.isValid" class="oui-icon oui-icon-success"></i>
                                    <i data-ng-if="rule.isValidated && !rule.isValid" class="oui-icon oui-icon-error"></i> 
                                    <span data-translate="{{rule.message}}" data-translate-values="rule.translateParams"></span>
                                </li>
                            </ul>
                            <ul data-ng-if="ctrl.passwordValid" class="logs-change-password__rules">
                                <li class="logs-change-password__rule"> 
                                    <i class="oui-icon oui-icon-success_circle"></i>
                                    {{::'logs_password_valid' | translate}} 
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="oui-modal__footer">
            <div class="cui-form-actions">
                <oui-spinner data-ng-if="ctrl.saving.loading"></oui-spinner>
                <div data-ng-if="!ctrl.saving.loading">
                    <button type="button"
                        class="oui-button oui-button_secondary"
                        data-translate="common_cancel"
                        data-ng-click="ctrl.cancel()"></button>
                    <button type="submit"
                        class="oui-button oui-button_primary"
                        data-translate="common_save"
                        data-ng-click="ctrl.changePassword()"></button>
                </div>
            </div>
        </div>
    </div>
</form>
    
    
    