<div class="metrics__token" ui-view="metricsSubContent">
    <cui-back-link data-state="dbaas.metrics.detail.dashboard"
                   data-state-params="{ serviceName: MetricsTokenCtrl.serviceName }"
                   data-text=" 'metrics_token_back' | translate"></cui-back-link>
    <div class="metrics__row">
        <h3 class="oui-header_3" data-translate="metrics_token_title"></h3>
    </div>
    <div class="metrics__row">
        <a class="oui-button oui-button_secondary"
            data-ng-disabled="MetricsTokenCtrl.actions.loading"
            data-translate="metrics_token_new"
            ui-sref="dbaas.metrics.detail.token.add({ serviceName: MetricsTokenCtrl.serviceName })"></a>
        <div class="pull-right">
            <input type="search"
                class="oui-input"
                id="token-search"
                name="token-search"
                data-ng-change="MetricsTokenCtrl.onSearchText()"
                data-ng-model="MetricsTokenCtrl.searchText"
                data-ng-model-options="{ debounce: 400 }"
                data-translate-attr="{ placeholder: 'metrics_token_search' }"/>
        </div>
    </div>
    <div class="metrics__row">
        <oui-table id="token-table"
                   rows="MetricsTokenCtrl.tokens" 
                   rows-loader="MetricsTokenCtrl.loading">
            <column title="'metrics_table_name' | translate" 
                    property="description"
                    sortable>
                <span data-ng-bind="$row.description || '-'"></span>
                    </column>
            <column title="'metrics_token_labels' | translate" 
                    property="labels"
                    template="MetricsTokenCtrl.labelsTemplate()">
            </column>
            <column title="'metrics_table_token' | translate" 
                    property="access">
                <cui-clipboard data-text="$row.access"></cui-clipboard>
            </column>
            <column title="'metrics_token_permission' | translate"
                    property="permission"></column>
            <column title="'metrics_table_action' | translate"
                    template="MetricsTokenCtrl.actionTemplate()">
            </column>
        </oui-table>
    </div>
</div>
