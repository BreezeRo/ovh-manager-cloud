<section class="container-fluid cui-page__content cui-page__content-flex">

    <div class="row d-lg-flex">
        <div class="col-xm-12">

            <cui-wizard-form data-form-title="{{ 'vps_configuration_veeam_order_title' | translate }}"
                             data-form-loaded="true"
                             data-form-on-cancel="$ctrl.cancel()"
                             data-form-on-complete="$ctrl.orderOption()">

                <cui-wizard-step data-step-title="{{ 'vps_configuration_veeam_order_step1_question' | translate:{ serviceName: $ctrl.serviceName } }}"
                                 data-step-on-init="$ctrl.loadUpgradesList()"
                                 data-step-loaded="!$ctrl.loaders.step1"
                                 data-step-completed="model.contractsValidated">
                    <div class="text-center" data-ng-if="!model.vps || !model.optionDetails">
                        <oui-spinner></oui-spinner>
                    </div>

                    <div data-ng-show="model.optionDetails">
                        <dl class="dl-horizontal">
                            <dt class="bold"
                                data-translate="vps_configuration_veeam_order_step1_totalHT"></dt>
                            <dd class="red bold"
                                data-ng-bind="model.optionDetails.withoutTax"></dd>
                            <dt class="bold"
                                data-translate="vps_configuration_veeam_order_step1_totalTTC"></dt>
                            <dd class="red bold"
                                data-ng-bind="model.optionDetails.withTax"></dd>
                        </dl>

                        <div data-translate="vps_configuration_veeam_order_step1_info"></div>
                        <div data-ng-bind-html="'vps_configuration_veeam_order_step1_info2' | translate:{ price: model.optionDetails.unitaryPrice }"></div>

                        <div class="blue bold" data-translate="vps_configuration_veeam_order_step1_id"></div>
                        <oui-checkbox
                            data-text="{{ 'vps_configuration_veeam_order_step1_contracts' | translate }}"
                            id="contractsValidated"
                            name="contractsValidated"
                            data-on-change="$ctrl.orderOption()"
                            data-model="model.contractsValidated">
                        </oui-checkbox>
                        <ul>
                            <li data-ng-repeat="contract in model.optionDetails.contracts">
                                <a target="_blank"
                                   data-ng-href="{{ contract.url }}"
                                   data-ng-bind="contract.name"></a>
                            </li>
                        </ul>
                    </div>
                </cui-wizard-step>

                <cui-wizard-step data-step-title="{{ 'vps_configuration_veeam_order_step2_generation_bc' | translate }}"
                                 data-step-completed="model.contractsValidated">
                    <div class="text-center" data-ng-if="false">
                        <oui-spinner></oui-spinner>
                    </div>
                    <div class="row-fluid">
                        <div class="bottom-space-p12">
                            <div data-translate="vps_configuration_veeam_order_step2_bc"></div>
                            <div class="blue bold"
                                 data-translate="vps_configuration_veeam_order_step2_continue"></div>
                            <div data-translate="vps_configuration_veeam_order_step2_explication"></div>
                            <div class="fs11 lh11 italic"
                                 data-translate="vps_configuration_veeam_order_step2_explication2"></div>
                        </div>
                    </div>
                </cui-wizard-step>

            </cui-wizard-form>
        </div>
    </div>
</section>
