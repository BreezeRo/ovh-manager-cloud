{"remainingRequest":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/node_modules/@ovh-ux/manager-webpack-config/loaders/ui-router-translations.js??ref--11-1!/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/client/app/ui-components/dropdown-menu/dropdown-menu.component.js","dependencies":[{"path":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/client/app/ui-components/dropdown-menu/dropdown-menu.component.js","mtime":1539717142257},{"path":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/node_modules/cache-loader/dist/cjs.js","mtime":1539679504371},{"path":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/node_modules/babel-loader/lib/index.js","mtime":1539597349061},{"path":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/node_modules/cache-loader/dist/cjs.js","mtime":1539679504371},{"path":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/node_modules/@ovh-ux/manager-webpack-config/loaders/ui-router-translations.js","mtime":1539950864368}],"contextDependencies":[],"result":["(() => {\n  let lastDropdownMenuController;\n\n  /*\n     * Temporary implementation of dropdown-menu.\n     */\n  class CuiDropdownMenuController {\n    constructor($element, $scope, $rootScope, $window) {\n      this.$element = $element;\n      this.$scope = $scope;\n      this.$rootScope = $rootScope;\n      this.$window = $window;\n    }\n\n    $postLink() {\n      this.$element.addClass('cui-dropdown-menu');\n    }\n\n    $onInit() {\n      this.show = false;\n      this.hideMenu = () => this.$rootScope.$broadcast('ouiDropdownMenu.hide');\n\n      angular.element(this.$window.document).on('click', this.hideMenu);\n    }\n\n    $onDestroy() {\n      if (this.unregisterListeners) {\n        this.unregisterListeners();\n      }\n\n      angular.element(this.$window.document).off('click', this.hideMenu);\n    }\n\n    toggle($event) {\n      $event.stopPropagation();\n\n      this.show = !this.show;\n\n      if (this.show) {\n        if (lastDropdownMenuController) {\n          lastDropdownMenuController.toggle($event);\n        }\n        // eslint-disable-next-line\n                lastDropdownMenuController = this;\n        this.unregisterListeners = this.$scope.$on('ouiDropdownMenu.hide', () => {\n          this.$scope.$apply(() => {\n            this.show = false;\n            lastDropdownMenuController = null;\n          });\n          this.unregisterListeners();\n        });\n      } else {\n        this.unregisterListeners();\n        lastDropdownMenuController = null;\n      }\n    }\n\n    keydown($event) {\n      if ($event.keyCode === 32) {\n        $event.preventDefault();\n        this.toggle($event);\n      }\n    }\n  }\n\n  angular.module('managerApp')\n    .component('cuiDropdownMenu', {\n      templateUrl: 'app/ui-components/dropdown-menu/dropdown-menu.html',\n      controller: CuiDropdownMenuController,\n      transclude: {\n        button: 'cuiDropdownMenuButton',\n        body: 'cuiDropdownMenuBody',\n      },\n      bindings: {\n        position: '<',\n      },\n    });\n})();\n"]}