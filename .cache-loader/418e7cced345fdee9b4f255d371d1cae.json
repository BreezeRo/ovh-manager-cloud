{"remainingRequest":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/node_modules/@ovh-ux/manager-webpack-config/loaders/ui-router-translations.js??ref--11-1!/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/client/components/docs/docs.service.js","dependencies":[{"path":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/client/components/docs/docs.service.js","mtime":1539717142401},{"path":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/node_modules/cache-loader/dist/cjs.js","mtime":1539679504371},{"path":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/node_modules/babel-loader/lib/index.js","mtime":1539597349061},{"path":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/node_modules/cache-loader/dist/cjs.js","mtime":1539679504371},{"path":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/node_modules/@ovh-ux/manager-webpack-config/loaders/ui-router-translations.js","mtime":1539950864368}],"contextDependencies":[],"result":["class DocsService {\n  constructor($translate, TranslateService, TARGET, DOCS_ALL_GUIDES, DOCS_HOMEPAGE_GUIDES) {\n    this.$translate = $translate;\n    this.TranslateService = TranslateService;\n    this.TARGET = TARGET;\n    this.DOCS_ALL_GUIDES = DOCS_ALL_GUIDES;\n    this.DOCS_HOMEPAGE_GUIDES = DOCS_HOMEPAGE_GUIDES;\n  }\n\n  getDomainOfGuides() {\n    if (this.TARGET === 'US') {\n      return 'US';\n    }\n    const locale = this.TranslateService.getGeneralLanguage();\n\n    if (locale === 'fr') {\n      return 'FR';\n    }\n    return 'EN';\n  }\n\n  getAllGuidesLink() {\n    const userLocale = this.TranslateService.getUserLocale().toUpperCase();\n    const domain = this.getDomainOfGuides();\n\n    return _.get(\n      this.DOCS_ALL_GUIDES,\n      userLocale,\n      _.get(this.DOCS_ALL_GUIDES, domain, this.DOCS_ALL_GUIDES.EN),\n    );\n  }\n\n  getGuidesOfSection(section) {\n    const userLocale = this.TranslateService.getUserLocale().toUpperCase();\n    const domain = this.getDomainOfGuides();\n\n    const sectionContent = _.get(this.DOCS_HOMEPAGE_GUIDES, `${userLocale}.${section}`, this.DOCS_HOMEPAGE_GUIDES[domain][section]);\n\n    sectionContent.list = _.map(sectionContent.list, (guide) => {\n      _.set(guide, 'text', this.$translate.instant(guide.text));\n      return guide;\n    });\n\n    return sectionContent;\n  }\n}\n\nangular.module('managerApp').service('DocsService', DocsService);\n"]}