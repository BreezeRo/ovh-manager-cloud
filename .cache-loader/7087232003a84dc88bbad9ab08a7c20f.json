{"remainingRequest":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/node_modules/babel-loader/lib/index.js??ref--10-1!/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/node_modules/cache-loader/dist/cjs.js!/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/node_modules/@ovh-ux/manager-webpack-config/loaders/ui-router-translations.js??ref--11-1!/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/client/app/cloud/project/compute/snapshot/cloud-project-compute-snapshot-price.service.js","dependencies":[{"path":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/client/app/cloud/project/compute/snapshot/cloud-project-compute-snapshot-price.service.js","mtime":1539717142032},{"path":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/.babelrc","mtime":1539717141926},{"path":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/node_modules/cache-loader/dist/cjs.js","mtime":1539679504371},{"path":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/node_modules/babel-loader/lib/index.js","mtime":1539597349061},{"path":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/node_modules/cache-loader/dist/cjs.js","mtime":1539679504371},{"path":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/node_modules/@ovh-ux/manager-webpack-config/loaders/ui-router-translations.js","mtime":1539950864368}],"contextDependencies":[],"result":["function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar CloudProjectComputeSnapshotPriceService = function CloudProjectComputeSnapshotPriceService(OvhCloudPriceHelper) {\n  _classCallCheck(this, CloudProjectComputeSnapshotPriceService);\n\n  _defineProperty(this, \"getSnapshotPrice\", function getSnapshotPrice(_ref) {\n    var size = _ref.size,\n        serviceName = _ref.serviceName,\n        region = _ref.region;\n    return this.OvhCloudPriceHelper.getPrices(serviceName).then(function (prices) {\n      var snapshotPrice = prices[\"snapshot.consumption.\".concat(region)] || prices['snapshot.consumption'];\n\n      if (!snapshotPrice) {\n        console.warn('price not found for this snapshot');\n      }\n\n      snapshotPrice = {\n        price: angular.copy(snapshotPrice.price),\n        priceInUcents: snapshotPrice.priceInUcents\n      };\n      snapshotPrice.totalPrice = angular.copy(snapshotPrice.price);\n      snapshotPrice.monthlyPrice = angular.copy(snapshotPrice.price);\n      snapshotPrice.monthlyPrice.value = snapshotPrice.priceInUcents * moment.duration(1, 'months').asHours() / 100000000;\n      snapshotPrice.monthlyPrice.text = snapshotPrice.monthlyPrice.text.replace(/\\d+(?:[.,]\\d+)?/, _.round(snapshotPrice.monthlyPrice.value.toString(), 2));\n      snapshotPrice.totalPrice.value = snapshotPrice.monthlyPrice.value * size;\n      snapshotPrice.totalPrice.text = snapshotPrice.totalPrice.text.replace(/\\d+(?:[.,]\\d+)?/, _.round(snapshotPrice.totalPrice.value.toString(), 2));\n      return snapshotPrice;\n    });\n  });\n\n  this.OvhCloudPriceHelper = OvhCloudPriceHelper;\n};\n\nCloudProjectComputeSnapshotPriceService.$inject = [\"OvhCloudPriceHelper\"];\nangular.module('managerApp').service('CloudProjectComputeSnapshotPriceService', CloudProjectComputeSnapshotPriceService);",null]}