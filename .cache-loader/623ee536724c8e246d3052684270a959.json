{"remainingRequest":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/node_modules/@ovh-ux/manager-webpack-config/loaders/ui-router-translations.js??ref--11-1!/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/client/app/common/cloud-poll.service.js","dependencies":[{"path":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/client/app/common/cloud-poll.service.js","mtime":1539717142058},{"path":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/node_modules/cache-loader/dist/cjs.js","mtime":1539679504371},{"path":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/node_modules/babel-loader/lib/index.js","mtime":1539597349061},{"path":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/node_modules/cache-loader/dist/cjs.js","mtime":1539679504371},{"path":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/node_modules/@ovh-ux/manager-webpack-config/loaders/ui-router-translations.js","mtime":1539950864368}],"contextDependencies":[],"result":["class CloudPoll {\n  constructor($transitions, OvhPoll) {\n    this.OvhPoll = OvhPoll;\n\n    this.pollers = [];\n\n    $transitions.onSuccess({}, () => {\n      _.forEach(this.pollers, poller => poller.kill());\n      this.pollers = [];\n    });\n  }\n\n  poll(opts) {\n    const poller = this.OvhPoll.poll(opts);\n    this.pollers.push(poller);\n    return poller;\n  }\n\n  // Polling opts. Contains items to poll, pollFunction callback, stopCondition callback\n  // and interval (optional, default 5000).\n  // Ex =>\n  // {\n  //   item: [1, 2, 3],\n  //   pollFunction: item => doSomething(),\n  //   stopCondition: item => doSomething(),\n  //   interval: 10000,\n  // }\n  pollArray(opts) {\n    const poller = this.OvhPoll.pollArray(opts);\n    this.pollers.push(poller);\n    return poller;\n  }\n}\n\nangular.module('managerApp').service('CloudPoll', CloudPoll);\n"]}