{"remainingRequest":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/node_modules/babel-loader/lib/index.js??ref--10-1!/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/node_modules/cache-loader/dist/cjs.js!/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/node_modules/@ovh-ux/manager-webpack-config/loaders/ui-router-translations.js??ref--11-1!/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/client/app/deskaas/sidebar/deskaas-sidebar.service.js","dependencies":[{"path":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/client/app/deskaas/sidebar/deskaas-sidebar.service.js","mtime":1539717142184},{"path":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/.babelrc","mtime":1539717141926},{"path":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/node_modules/cache-loader/dist/cjs.js","mtime":1539679504371},{"path":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/node_modules/babel-loader/lib/index.js","mtime":1539597349061},{"path":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/node_modules/cache-loader/dist/cjs.js","mtime":1539679504371},{"path":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/node_modules/@ovh-ux/manager-webpack-config/loaders/ui-router-translations.js","mtime":1539950864368}],"contextDependencies":[],"result":["angular.module('managerApp').service('deskaasSidebar', [\"$rootScope\", \"OvhApiDeskaasService\", \"$q\", \"SidebarMenu\", function ($rootScope, OvhApiDeskaasService, $q, SidebarMenu) {\n  var self = this;\n  /*= ===================================\n      =            SECTION LOAD            =\n      ==================================== */\n\n  /* ----------  API CALL  ----------*/\n\n  self.getServices = function () {\n    return $q(function (resolve) {\n      OvhApiDeskaasService.v6().query().$promise.then(function (serviceNames) {\n        var requests = [];\n        angular.forEach(serviceNames, function (serviceName) {\n          requests.push(OvhApiDeskaasService.v6().get({\n            serviceName: serviceName\n          }).$promise.then(function (service) {\n            return service;\n          }, function () {\n            return {\n              serviceName: serviceName,\n              alias: '',\n              error: true\n            };\n          }));\n        });\n        $q.all(requests).then(function (elements) {\n          resolve(elements);\n        });\n      }).catch(function () {\n        resolve();\n      });\n    });\n  };\n\n  self.getEntryMenu = function (service) {\n    var id = \"deskaas_\".concat(service.serviceName);\n    var title = service.alias === 'noAlias' || service.alias === '' ? service.serviceName : \"\".concat(service.alias, \" (\").concat(service.serviceName, \")\");\n    return {\n      id: id,\n      title: title\n    };\n  };\n  /* */\n\n\n  self.updateItem = function (service) {\n    var entry = self.getEntryMenu(service);\n\n    if (self.section) {\n      SidebarMenu.updateItemDisplay({\n        title: entry.title\n      }, entry.id, self.section.id);\n    }\n  };\n  /* ----------  FILL  ----------*/\n\n\n  self.loadIntoSection = function (section, servicesParams) {\n    var services = servicesParams;\n    self.section = section;\n    services = services.sort(); // For each project, add an item\n\n    angular.forEach(services, function (service) {\n      if (!service.error) {\n        var entry = self.getEntryMenu(service);\n        SidebarMenu.addMenuItem({\n          id: entry.id,\n          title: entry.title,\n          // icon: \"dedicated-cloud2\",\n          state: 'deskaas.details',\n          stateParams: {\n            serviceName: service.serviceName\n          }\n        }, section);\n      }\n    });\n  };\n  /* -----  End of SECTION LOAD  ------*/\n\n}]);",null]}