{"remainingRequest":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/node_modules/@ovh-ux/manager-webpack-config/loaders/ui-router-translations.js??ref--11-1!/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/client/app/cda/details/cda-details.controller.js","dependencies":[{"path":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/client/app/cda/details/cda-details.controller.js","mtime":1539717141932},{"path":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/node_modules/cache-loader/dist/cjs.js","mtime":1539679504371},{"path":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/node_modules/babel-loader/lib/index.js","mtime":1539597349061},{"path":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/node_modules/cache-loader/dist/cjs.js","mtime":1539679504371},{"path":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/node_modules/@ovh-ux/manager-webpack-config/loaders/ui-router-translations.js","mtime":1539950864368}],"contextDependencies":[],"result":["angular.module('managerApp')\n  .controller('CdaDetailsCtrl', function ($stateParams, $translate, CdaService, CloudMessage, URLS, OvhApiMe) {\n    const self = this;\n\n    self.CdaService = CdaService;\n    self.serviceName = '';\n    self.messages = [];\n\n    self.loading = true;\n\n    self.guides = {\n      title: $translate.instant('cda_guide_title'),\n      list: [{\n        name: $translate.instant('cda_guide_name'),\n      }],\n      footer: $translate.instant('cda_guide_footer'),\n    };\n\n    self.refreshMessage = function () {\n      self.messages = self.messageHandler.getMessages();\n    };\n\n    self.loadMessage = function () {\n      CloudMessage.unSubscribe('paas.cda');\n      self.messageHandler = CloudMessage.subscribe('paas.cda', { onMessage: () => self.refreshMessage() });\n    };\n\n    self.loadGuides = function () {\n      return OvhApiMe.v6()\n        .get().$promise\n        .then((me) => {\n          self.guides.list[0].url = `${URLS.guides.home[me.ovhSubsidiary]}${URLS.guides.cda}`;\n        })\n        .catch((error) => {\n          CloudMessage.error(`${$translate.instant('cda_guide_retrieval_error')} ${_(error).get('data.message', '')}`);\n        });\n    };\n\n    function init() {\n      self.serviceName = $stateParams.serviceName;\n\n      self.loadMessage();\n      self.loadGuides();\n    }\n\n    init();\n  });\n"]}