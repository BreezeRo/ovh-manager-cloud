{"remainingRequest":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/node_modules/@ovh-ux/manager-webpack-config/loaders/ui-router-translations.js??ref--11-1!/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/client/components/featureAvailability/featureAvailability.service.js","dependencies":[{"path":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/client/components/featureAvailability/featureAvailability.service.js","mtime":1539717374671},{"path":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/node_modules/cache-loader/dist/cjs.js","mtime":1539679504371},{"path":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/node_modules/babel-loader/lib/index.js","mtime":1539597349061},{"path":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/node_modules/cache-loader/dist/cjs.js","mtime":1539679504371},{"path":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/node_modules/@ovh-ux/manager-webpack-config/loaders/ui-router-translations.js","mtime":1539950864368}],"contextDependencies":[],"result":["(() => {\n  const allEuropeanSubsidiaries = ['CZ', 'DE', 'ES', 'FI', 'FR', 'GB', 'IE', 'IT', 'LT', 'MA', 'NL', 'PL', 'PT', 'SN', 'TN'];\n  const allCanadianSubsidiaries = ['ASIA', 'AU', 'CA', 'QC', 'SG', 'WE', 'WS'];\n  const featuresAvailability = {\n    VPS: {\n      sidebarMenu: {\n        EU: allEuropeanSubsidiaries,\n        CA: allCanadianSubsidiaries,\n      },\n      sidebarOrder: {\n        EU: allEuropeanSubsidiaries,\n        CA: allCanadianSubsidiaries,\n      },\n      guides: {\n        EU: allEuropeanSubsidiaries,\n        CA: allCanadianSubsidiaries,\n      },\n      cloudDatabase: {\n        EU: allEuropeanSubsidiaries,\n        CA: [],\n      },\n    },\n    SERVER: {\n      sidebarMenu: {\n        EU: allEuropeanSubsidiaries,\n        CA: allCanadianSubsidiaries,\n        US: ['US'],\n      },\n      sidebarOrder: {\n        EU: allEuropeanSubsidiaries,\n        CA: allCanadianSubsidiaries,\n        US: ['US'],\n      },\n    },\n    PROJECT: {\n      sidebarMenu: {\n        EU: allEuropeanSubsidiaries,\n        CA: allCanadianSubsidiaries,\n      },\n      sidebarOrder: {\n        EU: allEuropeanSubsidiaries,\n        CA: allCanadianSubsidiaries,\n        US: ['US'],\n      },\n      expressOrder: {\n        US: ['US'],\n      },\n      guides: {\n        EU: allEuropeanSubsidiaries,\n        CA: allCanadianSubsidiaries,\n      },\n    },\n    DEDICATED_CLOUD: {\n      sidebarMenu: {\n        EU: allEuropeanSubsidiaries,\n        CA: allCanadianSubsidiaries,\n      },\n      sidebarOrder: {\n        EU: allEuropeanSubsidiaries,\n        CA: allCanadianSubsidiaries,\n      },\n    },\n    IP: {\n      sidebarMenu: {\n        EU: allEuropeanSubsidiaries,\n        CA: allCanadianSubsidiaries,\n        US: ['US'],\n      },\n      sidebarOrder: {\n        EU: allEuropeanSubsidiaries,\n        CA: allCanadianSubsidiaries,\n        US: ['US'],\n      },\n    },\n    LOAD_BALANCER: {\n      sidebarMenu: {\n        EU: allEuropeanSubsidiaries,\n        CA: allCanadianSubsidiaries,\n      },\n      sidebarOrder: {\n        EU: allEuropeanSubsidiaries,\n      },\n    },\n    VRACK: {\n      sidebarMenu: {\n        EU: allEuropeanSubsidiaries,\n        CA: allCanadianSubsidiaries,\n        US: ['US'],\n      },\n      sidebarOrder: {\n        EU: allEuropeanSubsidiaries,\n        CA: allCanadianSubsidiaries,\n        US: ['US'],\n      },\n    },\n    LICENSE: {\n      sidebarMenu: {\n        EU: allEuropeanSubsidiaries,\n        CA: allCanadianSubsidiaries,\n        US: ['US'],\n      },\n      sidebarOrder: {\n        EU: allEuropeanSubsidiaries,\n        CA: allCanadianSubsidiaries,\n        US: ['US'],\n      },\n    },\n    NASHA: {\n      sidebarMenu: {\n        EU: allEuropeanSubsidiaries,\n        CA: allCanadianSubsidiaries,\n      },\n      sidebarOrder: {\n        EU: allEuropeanSubsidiaries,\n        CA: allCanadianSubsidiaries,\n      },\n    },\n    METRICS: {\n      sidebarMenu: {\n        EU: allEuropeanSubsidiaries,\n        CA: allCanadianSubsidiaries,\n      },\n      sidebarOrder: {\n        EU: ['FR'],\n      },\n    },\n    CEPH: {\n      sidebarMenu: {\n        EU: ['FR'],\n        US: ['US'],\n      },\n      sidebarOrder: {\n        EU: ['FR'],\n      },\n    },\n    VEEAM: {\n      sidebarMenu: {\n        EU: ['FR'],\n      },\n      sidebarOrder: {\n        EU: ['FR'],\n      },\n    },\n    VEEAM_ENTERPRISE: {\n      sidebarMenu: {\n        EU: ['FR'],\n      },\n      sidebarOrder: {\n        EU: ['FR'],\n      },\n    },\n    CLOUD_DESKTOP: {\n      sidebarMenu: {\n        EU: allEuropeanSubsidiaries,\n        CA: allCanadianSubsidiaries,\n      },\n      sidebarOrder: {\n        EU: allEuropeanSubsidiaries,\n      },\n    },\n    CONTACTS: {\n      manage: {\n        EU: allEuropeanSubsidiaries,\n      },\n    },\n    DBAAS_LOGS: {\n      sidebarMenu: {\n        EU: allEuropeanSubsidiaries,\n        CA: ['CA', 'QC'],\n      },\n      sidebarOrder: {\n        EU: allEuropeanSubsidiaries,\n        CA: ['CA', 'QC'],\n      },\n    },\n  };\n\n  class FeatureAvailabilityService {\n    constructor(OvhApiMe, TARGET) {\n      this.User = OvhApiMe;\n      this.TARGET = TARGET;\n\n      this.locale = null;\n      this.localePromise = this.User.v6().get().$promise\n        .then((user) => {\n          this.locale = user.ovhSubsidiary;\n          return user.ovhSubsidiary;\n        });\n    }\n\n    hasFeature(product, feature, locale = this.locale) {\n      if (!_.has(featuresAvailability, [product, feature, this.TARGET])) {\n        return false;\n      }\n      return _.indexOf(featuresAvailability[product][feature][this.TARGET], locale) !== -1;\n    }\n\n    hasFeaturePromise(product, feature) {\n      return this.localePromise.then(locale => this.hasFeature(product, feature, locale));\n    }\n  }\n  angular.module('managerApp').service('FeatureAvailabilityService', FeatureAvailabilityService);\n})();\n"]}