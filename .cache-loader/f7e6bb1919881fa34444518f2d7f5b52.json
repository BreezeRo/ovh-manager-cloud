{"remainingRequest":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/node_modules/babel-loader/lib/index.js??ref--10-1!/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/node_modules/cache-loader/dist/cjs.js!/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/node_modules/@ovh-ux/manager-webpack-config/loaders/ui-router-translations.js??ref--11-1!/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/client/app/cloud/project/rename/cloud-project-rename.controller.js","dependencies":[{"path":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/client/app/cloud/project/rename/cloud-project-rename.controller.js","mtime":1539717142050},{"path":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/.babelrc","mtime":1539717141926},{"path":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/node_modules/cache-loader/dist/cjs.js","mtime":1539679504371},{"path":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/node_modules/babel-loader/lib/index.js","mtime":1539597349061},{"path":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/node_modules/cache-loader/dist/cjs.js","mtime":1539679504371},{"path":"/Users/jleveugle/Documents/Work/github/ovh-ux/ovh-manager-cloud/node_modules/@ovh-ux/manager-webpack-config/loaders/ui-router-translations.js","mtime":1539950864368}],"contextDependencies":[],"result":["angular.module('managerApp').controller('CloudProjectRenameController', [\"$rootScope\", \"$q\", \"$translate\", \"$uibModal\", \"CloudMessage\", \"OvhApiCloudProject\", \"SidebarMenu\", function CloudProjectRenameController($rootScope, $q, $translate, $uibModal, CloudMessage, OvhApiCloudProject, SidebarMenu) {\n  var self = this;\n  self.loader = {\n    save: false\n  };\n  self.editing = {\n    description: null\n  };\n  self.model = {\n    description: null\n  };\n\n  function getProjectDescription() {\n    OvhApiCloudProject.v6().get({\n      serviceName: self.projectId\n    }).$promise.then(function (data) {\n      self.model.description = data.description;\n    }).catch(function (err) {\n      CloudMessage.error([$translate.instant('cloud_project_rename_loading_error'), err.data && err.data.message || ''].join(' '));\n    });\n  }\n\n  self.$onInit = function $onInit() {\n    self.editing.description = null;\n    getProjectDescription();\n  };\n\n  self.saveDescription = function saveDescription() {\n    self.loader.save = true;\n    OvhApiCloudProject.v6().put({\n      serviceName: self.projectId\n    }, {\n      description: self.editing.description || ''\n    }).$promise.then(function () {\n      self.model.description = self.editing.description;\n      var menuItem = SidebarMenu.getItemById(self.projectId);\n\n      if (menuItem) {\n        menuItem.title = self.editing.description;\n      }\n    }).catch(function (err) {\n      CloudMessage.error([$translate.instant('cloud_project_rename_error'), err.data && err.data.message || ''].join(' '));\n    }).finally(function () {\n      self.loader.save = false;\n      self.editing.description = null;\n    });\n  };\n\n  self.watchForEscapeKey = function watchForEscapeKey($event) {\n    if ($event.keyCode === 27) {\n      // escape key code\n      self.editing.description = null;\n    }\n  };\n}]);",null]}